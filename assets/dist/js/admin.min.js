class WofSettings{constructor(e,t){this.addBtn=document.getElementById(e),this.wrapper=document.getElementById(t),this.init()}init(){this.addBtn&&this.addBtn.addEventListener("click",this.handleAddClick.bind(this)),this.wrapper&&this.wrapper.addEventListener("click",this.handleWrapperClick.bind(this)),this.initTooltips()}initTooltips(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).forEach(e=>{new bootstrap.Tooltip(e)})}recalculateIndexes(){this.wrapper.querySelectorAll(".select-container").forEach((e,r)=>{e.setAttribute("data-index",r),e.querySelectorAll("select").forEach(e=>{var t=e.getAttribute("name");t&&(t=t.replace(/wheel_items\[\d+]/,`wheel_items[${r}]`),e.setAttribute("name",t))})})}handleAddClick(e){e.preventDefault();var e=this.wrapper.querySelectorAll(".select-container"),t=e[e.length-1];let r=e.length;t&&((e=t.cloneNode(!0)).setAttribute("data-index",r),e.querySelectorAll("select").forEach(e=>{e.value="";var t=e.getAttribute("name");t&&(t=t.replace(/\[\d+]/,`[${r}]`),e.setAttribute("name",t))}),e.querySelectorAll("input").forEach(e=>{var t=e.type.toLowerCase(),t=(["text","email","number","tel","url","search","password"].includes(t)?e.value="":"checkbox"!==t&&"radio"!==t||(e.checked=!1),e.getAttribute("name"));t&&(t=t.replace(/\[\d+]/,`[${r}]`),e.setAttribute("name",t))}),t.insertAdjacentElement("afterend",e),this.initTooltips())}handleWrapperClick(e){var t=e.target.closest(".delete-row");t&&(e.preventDefault(),e=t.closest(".select-container"))&&(e.remove(),this.recalculateIndexes(),this.initTooltips())}}document.addEventListener("DOMContentLoaded",()=>{new WofSettings("add-select-btn","wof-wrapper")});